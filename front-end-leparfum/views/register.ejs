<!-- Mostrar mensajes flash de éxito (por ejemplo, al registrarse correctamente) -->
<% if (typeof successFlash !== 'undefined') { %>
  <div class="alert alert-success">
    <%= successFlash %>
  </div>
<% } %>

<!-- Mostrar mensajes flash de error (por ejemplo, al ingresar credenciales incorrectas) -->
<% if (typeof errorFlash !== 'undefined') { %>
  <div class="alert alert-danger">
    <%= errorFlash %>
  </div>
<% } %>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LeParfum - Registro</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto&display=swap">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
  <% if(isLoggedIn){ %>
    <%- include ('../modules/header-login.ejs') %>
  <%} else{ %>
    <%- include ('../modules/header-logout.ejs') %>
  <%} %>
  
  <section class="h-100 gradient-form" style="background-image: url(https://images.unsplash.com/photo-1528459801416-a9e53bbf4e17?q=80&w=1912&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);">
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-xl-10">
          <div class="card rounded-3 text-black">
            <div class="row g-0">
              <div class="col-lg-12 col-md-12">
                <div class="card-body p-md-5 mx-md-4">
                  <div class="text-center">
                    <img src="https://i.ibb.co/ZNG7Xmj/P-1-removebg-preview.png"
                      style="width: 185px;" alt="logo">
                    <h4 class="mt-1 mb-5 pb-1">Únete al equipo LeParfum</h4>
                  </div>
                  <form action="/register" method="POST">
                    <div class="row">
                      <p>Por favor, ingrese sus datos</p>
  
                    <div class="form-outline mb-3 col-3">
                      <input required type="text" oninput="this.value = this.value.replace(/[^a-zA-Z- ]/g, '').slice(0, 20);" id="name" name="name" class="form-control" placeholder="Ej: Ignacio Puentes"/>
                      <label class="form-label" for="EmailForm">Nombre Completo</label>
                    </div>

                    <div class="form-outline mb-3 col-3">
                      <input required type="celular" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 9);" id="celular" name="celular" class="form-control" placeholder="Ej: 998765432"/>
                      <label class="form-label" for="celular">Celular</label>
                    </div>

                    <div class="form-outline mb-3 col-6">
                      <input required type="email" id="email" name="email" class="form-control" placeholder="ejemplo@dominio.com"/>
                      <label class="form-label" for="email">Correo Electrónico</label>
                    </div>

                    <div class="form-outline mb-3 col-6">
                      <input required type="direccion" id="direccion" name="direccion"  class="form-control" placeholder="Calle #19, Ciudad"/>
                      <label class="form-label" for="direccion">Dirección</label>
                    </div>
  
                    <div class="form-outline mb-3 col-6">
                      <input required id="password" name="password" type="password" class="form-control"  />
                      <label class="form-label" for="password">Contraseña</label>
                    </div>

                    <p class="border-top pt-2 fs-6 fw-medium">Por favor, seleccione  sus preferencias</p>
                    <div class="form-outline mb-3 col-6">
                      <label for="q1">¿Cual es tu sexo?</label>
                      <select class="form-select" name="sexo" id="q1" required>
                        <option value="masculino">Masculino</option>
                        <option value="femenino">Femenino</option>
                      </select>
                    </div>

                    <div class="form-outline mb-3 col-6">
                      <label for="q2">¿Qué actividad disfrutas más en tu tiempo libre?</label>
                      <select class="form-select" name="actividad" id="q2" required>
                        <option value="1">Salir a cenar y socializar</option>
                        <option value="2">Salir ocacionalmente a tomar algo</option>
                        <option value="3">Juntas con amigos</option>
                      </select>
                    </div>

                    <div class="form-outline mb-3 col-6">
                      <label for="q3">¿Cuál es tu estación del año favorita?</label>
                      <select class="form-select" name="estacion" id="q3" required>
                        <option value="1">Otoño</option>
                        <option value="2">Verano</option>
                        <option value="3">Primavera</option>
                        <option value="4">Invierno</option>
                      </select>
                    </div>

                    <div class="form-outline mb-3 col-6">
                      <label for="q4">¿Qué tipo de eventos sociales sueles asistir con frecuencia?</label>
                      <select class="form-select" name="evento" id="q4" required>
                        <option value="1">Reuniones informales con amigos</option>
                        <option value="2">Reuniones de negocios</option>
                        <option value="3">Citas a ciegas</option>
                        <option value="4">Reuniones en ambientes cerrados</option>
                      </select>
                    </div>

                    <div class="form-outline mb-3 col-6">
                      <label for="q5">¿Gama de colores favoritos?</label>
                      <select class="form-select" name="color" id="q5" required>
                        <option value="1">Grises</option>
                        <option value="2">Pasteles</option>
                        <option value="3">Cálidos</option>
                        <option value="4">Fríos</option>
                        <option value="4">Neón</option>
                      </select>
                    </div>
                    <p class="fw-medium fs-6 fw-medium">Todas las respuestas serán confidenciales y utilizadas para generar promociones o recomendaciones**</p>
                    <div class="d-flex align-items-center justify-content-center pb-4 col-12 p-2">
                      <button type="submit" class="btn btn-danger w-50">Registrarse</button>
                    </div>
                    
                    <div class="d-flex align-items-center justify-content-center pb-4">
                      <p class="mb-0 me-2">Ya tienes una cuenta?</p>
                      <a href="/login" class="btn btn-outline-secondary border-0">Iniciar Sesión</a>
                    </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Pie de Página -->
  <%- include ('../modules/footer.ejs') %>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
