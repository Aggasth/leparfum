<!-- Mostrar mensajes flash de éxito (por ejemplo, al registrarse correctamente) -->
<% if (typeof successFlash !== 'undefined') { %>
    <div class="alert alert-success">
      <%= successFlash %>
    </div>
  <% } %>
  
  <!-- Mostrar mensajes flash de error (por ejemplo, al ingresar credenciales incorrectas) -->
  <% if (typeof errorFlash !== 'undefined') { %>
    <div class="alert alert-danger">
      <%= errorFlash %>
    </div>
  <% } %>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfumeria - LeParfum</title>
  <script src="../public/filtro-2.js"></script>
  <link rel="stylesheet" type="text/css" href="/style-perfumeria.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans&display=swap">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
  <% if(isLoggedIn){ %>
    <%- include ('../modules/header-login.ejs') %>
  <%} else{ %>
    <%- include ('../modules/header-logout.ejs') %>
  <%} %>
  
  <section class="h-100 gradient-form side-perfumeria">

    <div class="container perfumeria">
      <div class="text-center">
        <img class="img img-fluid border-1" src="img/banners/banner-mid-2.jpg" alt="">
      </div>
      <div class="row mt-4">
        <!--Filtro de busqueda-->
        <div class="filtro-horizontal mt-2 mb-2 col-lg-3 d-none d-md-block h-100">
          <p class="fs-6 mt-1 ms-3 fw-medium text-body-secondary border-bottom">Filtrar por categoría</p>
          <ul class="list-group mb-2 list-group-flush">
            <li class="list-group-item">
              <p class="fs-6 mt-1 ms-3 fw-bold text-body-secondary border-bottom">Marca</p>
              <div id="marcaContainer" class="ms-3 checkbox-container">
                <!-- Los checkboxes se generarán aquí dinámicamente -->
              </div>
            </li>
            <li class="list-group-item">
              <p class="fs-6 mt-1 ms-3 fw-bold text-body-secondary border-bottom">Tipo</p>
              <div id="tipoContainer" class="ms-3 checkbox-container">
                <!-- Los checkboxes se generarán aquí dinámicamente -->
              </div>
            </li>
            <li class="list-group-item">
              <p class="fs-6 mt-1 ms-3 fw-bold text-body-secondary border-bottom">Colección</p>
              <div class="form-check ms-3">
                <input class="form-check-input" type="checkbox" id="Hombre">
                <label class="form-check-label" for="Hombre">
                  Perfumes para Hombre
                </label>
              </div>
              <div class="form-check ms-3">
                <input class="form-check-input" type="checkbox" id="Mujer">
                <label class="form-check-label" for="Mujer">
                  Perfumes para Mujer
                </label>
              </div>
              <div class="form-check ms-3">
                <input class="form-check-input" type="checkbox" id="Niño">
                <label class="form-check-label" for="Niño">
                  Perfumes para Niño
                </label>
              </div>
              <!-- Botón para aplicar filtros -->
              <button id="btnAplicarFiltros" class="btn btn-primary">Aplicar Filtros</button>
              
              <!-- Agrega más checkboxes para los tipos de sexo que desees -->
            </li>
          </ul>
        </div>
        
        <!-- Espacio para la carga de productos -->
        <div id="contenedorProductos" class="col-xl-9 col-lg-9">
          <div class="row">
            <!-- Se cargan todos los productos hacia abajo -->
            <% productos.forEach(producto=> { %>
              <div class="col-lg-3 col-md-6 col-sm-6 d-grid justify-content-center align-content-between">
                <div class="card card-product border-0">
                  <a href="/template-product/<%= producto._id %>">
                    <img class="img img-product" src="<%= producto.imagen %>" alt="<%= producto.nombre %>">
                  </a>
                  <div class="card-header fw-bold" style="color: rgb(131, 103, 103)">
                    $<%= producto.precio %>
                  </div>
                  <div class="card-body">
                    <p class="card-text">
                      <%= producto.nombreProducto %>
                    </p>
                  </div>
                </div>
              </div>
              <% }); %>
          </div>
        </div>
        
      </div>
    </div>
  </section>
  
  
  <!-- Pie de Página -->
  <%- include ('../modules/footer.ejs') %>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
